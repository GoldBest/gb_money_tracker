# Yandex Cloud - –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–ª—é—á–µ–π

## –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

‚úÖ **–°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç**: `aje1rlqa4l9tui4pf8s0`  
‚úÖ **–ö–ª—é—á –¥–æ—Å—Ç—É–ø–∞**: `yandex-cloud-key.json`  
‚úÖ **Folder ID**: `b1gdvm21sspiapg1g55p`  
‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `.env.production`

## –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å

### 1. –î–ª—è CLI –∫–æ–º–∞–Ω–¥
```bash
# –≠–∫—Å–ø–æ—Ä—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
export YC_FOLDER_ID=b1gdvm21sspiapg1g55p
export YC_SA_ID=aje1rlqa4l9tui4pf8s0

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –∫–ª—é—á–∞ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
yc config set service-account-key yandex-cloud-key.json
```

### 2. –î–ª—è API –≤—ã–∑–æ–≤–æ–≤
```bash
# –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –¥–æ—Å—Ç—É–ø–∞
TOKEN=$(yc iam create-token --iam-key-file yandex-cloud-key.json)

# –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ API –∑–∞–ø—Ä–æ—Å–∞—Ö
curl -H "Authorization: Bearer $TOKEN" \
     https://resource-manager.api.cloud.yandex.net/resource-manager/v1/folders
```

### 3. –î–ª—è –¥–µ–ø–ª–æ—è
```bash
# –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏
./scripts/setup-yandex-cloud.sh

# –ò–ª–∏ —Ä—É—á–Ω–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
yc managed-postgresql cluster create --name gb-money-tracker-db ...
yc compute instance create --name gb-money-tracker ...
```

## –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

‚ö†Ô∏è **–í–ê–ñ–ù–û**: 
- –§–∞–π–ª `yandex-cloud-key.json` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–µ–∫—Ä–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –î–æ–±–∞–≤–ª–µ–Ω –≤ `.gitignore` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Å–ª—É—á–∞–π–Ω–æ–≥–æ –∫–æ–º–º–∏—Ç–∞
- –•—Ä–∞–Ω–∏—Ç–µ –∫–ª—é—á –≤ –±–µ–∑–æ–ø–∞—Å–Ω–æ–º –º–µ—Å—Ç–µ
- –ù–µ –ø–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∫–ª—é—á —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞** –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
2. **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤** (PostgreSQL, Compute Instance)
3. **–ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ç–∏** –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
4. **–î–µ–ø–ª–æ–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è**

## –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
yc config list

# –°–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤
yc iam service-account list

# –°–ø–∏—Å–æ–∫ –∫–ª—é—á–µ–π
yc iam key list --service-account-name gb-money-tracker

# –£–¥–∞–ª–µ–Ω–∏–µ –∫–ª—é—á–∞ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
yc iam key delete --id <key-id>
```

## –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é: `yc config list`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∫–ª—é—á –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª–µ–Ω
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞ —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞
4. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ Yandex Cloud

## üöÄ –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è Yandex Cloud

‚úÖ **–°–µ—Ä–≤–µ—Ä**: `62.84.114.186`  
‚úÖ **–î–æ–º–µ–Ω**: `gbmt.gbdev.ru`  
‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL –∫–ª–∞—Å—Ç–µ—Ä `gb-money-tracker-db`  
‚úÖ **–°–µ—Ç—å**: `gb-money-tracker-network` —Å –≥—Ä—É–ø–ø–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏  
‚úÖ **–°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è**: `deploy-on-server.sh`  
‚úÖ **SSL –Ω–∞—Å—Ç—Ä–æ–π–∫–∞**: `setup-ssl.sh`  
‚úÖ **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: `SERVER_CONNECTION_GUIDE.md`  

### –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:
1. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É: `ssh ubuntu@62.84.114.186`
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –¥–µ–ø–ª–æ–π: `./deploy-on-server.sh` (SSL –Ω–∞—Å—Ç—Ä–æ–∏—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ BOT_TOKEN –≤ .env
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –ø–æ –∞–¥—Ä–µ—Å—É: https://gbmt.gbdev.ru

## üöÄ –°—Ç–∞—Ç—É—Å –¥–µ–ø–ª–æ—è Yandex Cloud

‚úÖ **–°–µ—Ä–≤–µ—Ä**: 
‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: PostgreSQL –∫–ª–∞—Å—Ç–µ—Ä 
‚úÖ **–°–µ—Ç—å**:  —Å –≥—Ä—É–ø–ø–æ–π –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
‚úÖ **–°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è**: 
‚úÖ **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è**: 
