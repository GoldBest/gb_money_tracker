# üéØ –û—Ç—á–µ—Ç –æ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ –¥–µ–ø–ª–æ—è TG Money MiniApp

## üìä –û–±—â–∏–π —Å—Ç–∞—Ç—É—Å: ‚úÖ –ó–ê–í–ï–†–®–ï–ù–û

–î–∞—Ç–∞: 10 –∞–≤–≥—É—Å—Ç–∞ 2025  
–í—Ä–µ–º—è: 17:25 MSK  

## üèóÔ∏è –ß—Ç–æ –±—ã–ª–æ —Å–æ–∑–¥–∞–Ω–æ

### 1. üîë –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ **–°–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç**: `aje1rlqa4l9tui4pf8s0`
- ‚úÖ **–ö–ª—é—á –¥–æ—Å—Ç—É–ø–∞**: `yandex-cloud-key.json`
- ‚úÖ **–ü—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞**: –†–æ–ª—å `editor` –¥–ª—è –ø–∞–ø–∫–∏
- ‚úÖ **Folder ID**: `b1gdvm21sspiapg1g55p`

### 2. üåê –°–µ—Ç–µ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞
- ‚úÖ **–°–µ—Ç—å**: `gb-money-tracker-network` (ID: `enp0nt66jke0n88urbdj`)
- ‚úÖ **–ü–æ–¥—Å–µ—Ç—å**: `gb-money-tracker-subnet` –≤ –∑–æ–Ω–µ `ru-central1-a`
- ‚úÖ **–ì—Ä—É–ø–ø–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏**: `gb-money-tracker-sg` —Å –ø—Ä–∞–≤–∏–ª–∞–º–∏:
  - SSH (–ø–æ—Ä—Ç 22) - –¥–æ—Å—Ç—É–ø –∏–∑–≤–Ω–µ
  - HTTP (–ø–æ—Ä—Ç 80) - –¥–æ—Å—Ç—É–ø –∏–∑–≤–Ω–µ
  - Backend API (–ø–æ—Ä—Ç 3001) - –¥–æ—Å—Ç—É–ø –∏–∑–≤–Ω–µ

### 3. üóÑÔ∏è –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **PostgreSQL –∫–ª–∞—Å—Ç–µ—Ä**: `gb-money-tracker-db`
- ‚úÖ **–°—Ç–∞—Ç—É—Å**: RUNNING
- ‚úÖ **–í–µ—Ä—Å–∏—è**: PostgreSQL 15
- ‚úÖ **–†–µ—Å—É—Ä—Å—ã**: s2.micro (2 CPU, 4 GB RAM, 10 GB SSD)
- ‚úÖ **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å**: `gbuser` —Å –ø–∞—Ä–æ–ª–µ–º `SecurePass123`
- ‚úÖ **–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö**: `gbmoneytracker`
- ‚úÖ **–•–æ—Å—Ç**: `rc1a-v0qg4dfjnrbn7kqm.mdb.yandexcloud.net`

### 4. üñ•Ô∏è –í—ã—á–∏—Å–ª–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã
- ‚úÖ **Compute Instance**: `gb-money-tracker`
- ‚úÖ **–°—Ç–∞—Ç—É—Å**: RUNNING
- ‚úÖ **–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞**: standard-v3
- ‚úÖ **–†–µ—Å—É—Ä—Å—ã**: 2 CPU, 4 GB RAM, 20 GB SSD
- ‚úÖ **–ó–æ–Ω–∞**: `ru-central1-a`
- ‚úÖ **–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π IP**: `10.0.1.22`
- ‚úÖ **–í–Ω–µ—à–Ω–∏–π IP**: `62.84.114.186`
‚úÖ **–î–æ–º–µ–Ω**: `gbmt.gbdev.ru`

### 5. üìÅ –§–∞–π–ª—ã –∏ —Å–∫—Ä–∏–ø—Ç—ã
- ‚úÖ **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è**: `.env.production`
- ‚úÖ **–°–∫—Ä–∏–ø—Ç –¥–µ–ø–ª–æ—è**: `deploy-on-server.sh`
- ‚úÖ **–ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—é**: `SERVER_CONNECTION_GUIDE.md`
- ‚úÖ **–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `YANDEX_CLOUD_KEYS_README.md`
- ‚úÖ **–ó–∞—â–∏—Ç–∞**: –§–∞–π–ª—ã –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ `.gitignore`

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏ –¥–ª—è –∑–∞–ø—É—Å–∫–∞

### 1. –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É
```bash
ssh ubuntu@62.84.114.186
```

### 2. –ó–∞–ø—É—Å–∫ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è
```bash
# –°–∫–∞—á–∞—Ç—å —Å–∫—Ä–∏–ø—Ç
wget https://raw.githubusercontent.com/your-username/tg-money-miniapp/master/deploy-on-server.sh

# –°–¥–µ–ª–∞—Ç—å –∏—Å–ø–æ–ª–Ω—è–µ–º—ã–º
chmod +x deploy-on-server.sh

# –ó–∞–ø—É—Å—Ç–∏—Ç—å
./deploy-on-server.sh
```

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è
- [ ] –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å `BOT_TOKEN` –≤ `.env`
- [ ] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ –±–∞–∑–µ –¥–∞–Ω–Ω—ã—Ö
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å –¥–æ–º–µ–Ω–Ω–æ–µ –∏–º—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
- [ ] –ù–∞—Å—Ç—Ä–æ–∏—Ç—å SSL —Å–µ—Ä—Ç–∏—Ñ–∏–∫–∞—Ç (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –¥–µ—Ç–∞–ª–∏

### –°—Ç—Ä–æ–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –ë–î
```
postgresql://gbuser:SecurePass123@rc1a-v0qg4dfjnrbn7kqm.mdb.yandexcloud.net:6432/gbmoneytracker
```

### –ü–æ—Ä—Ç—ã –∏ –¥–æ—Å—Ç—É–ø—ã
- **22** (SSH): ‚úÖ –û—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö
- **80** (HTTP): ‚úÖ –û—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö
- **3001** (Backend): ‚úÖ –û—Ç–∫—Ä—ã—Ç –¥–ª—è –≤—Å–µ—Ö
- **6432** (PostgreSQL): üîí –¢–æ–ª—å–∫–æ –∏–∑–Ω—É—Ç—Ä–∏ —Å–µ—Ç–∏

### –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Health Check**: `https://gbmt.gbdev.ru/health`
- **Frontend**: `https://gbmt.gbdev.ru`
- **Backend API**: `https://gbmt.gbdev.ru/api`
- **HTTP —Ä–µ–¥–∏—Ä–µ–∫—Ç**: `http://gbmt.gbdev.ru` ‚Üí `https://gbmt.gbdev.ru`

## üí∞ –°—Ç–æ–∏–º–æ—Å—Ç—å —Ä–µ—Å—É—Ä—Å–æ–≤ (–ø—Ä–∏–º–µ—Ä–Ω–æ)

- **Compute Instance**: ~$15-20/–º–µ—Å—è—Ü
- **PostgreSQL**: ~$10-15/–º–µ—Å—è—Ü
- **–°–µ—Ç—å**: ~$2-5/–º–µ—Å—è—Ü
- **–û–±—â–∞—è —Å—Ç–æ–∏–º–æ—Å—Ç—å**: ~$30-45/–º–µ—Å—è—Ü

## üö® –í–∞–∂–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- ‚úÖ **SSL/TLS**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –¥–æ–º–µ–Ω–∞ `gbmt.gbdev.ru`
- ‚úÖ **Security Headers**: HSTS, X-Frame-Options, X-Content-Type-Options
- ‚úÖ **HTTP ‚Üí HTTPS**: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–µ–¥–∏—Ä–µ–∫—Ç
- ‚ö†Ô∏è –ì—Ä—É–ø–ø–∞ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–∞–∑—Ä–µ—à–∞–µ—Ç –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º –ø–æ—Ä—Ç–∞–º –∏–∑–≤–Ω–µ
- ‚ö†Ô∏è –í –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–≥—Ä–∞–Ω–∏—á–∏—Ç—å –¥–æ—Å—Ç—É–ø –ø–æ IP
- ‚ö†Ô∏è –ü–∞—Ä–æ–ª—å –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –±–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π

### –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ
- üìà Instance –º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –¥–æ 8 CPU –∏ 32 GB RAM
- üìà PostgreSQL –º–æ–∂–Ω–æ –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞—Ç—å –¥–æ 32 CPU –∏ 128 GB RAM
- üìà –ú–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –±–∞–ª–∞–Ω—Å–∏—Ä–æ–≤—â–∏–∫ –Ω–∞–≥—Ä—É–∑–∫–∏ –¥–ª—è –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö instance

### –†–µ–∑–µ—Ä–≤–Ω–æ–µ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ
- üíæ PostgreSQL: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ –±—ç–∫–∞–ø—ã –∫–∞–∂–¥—ã–µ 7 –¥–Ω–µ–π
- üíæ Instance: –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å —Å–Ω–∞–ø—à–æ—Ç—ã –¥–∏—Å–∫–æ–≤
- üíæ –ö–æ–¥: –•—Ä–∞–Ω–∏—Ç—Å—è –≤ Git —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥
- **Backend**: `sudo journalctl -u tg-money-backend -f`
- **Nginx**: `/var/log/nginx/`
- **PostgreSQL**: Yandex Cloud Console
- **Instance**: Yandex Cloud Console

### –û–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ**: `./update-app.sh`
- **–†—É—á–Ω–æ–µ**: `git pull && npm run build && sudo systemctl restart tg-money-backend`

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–ª—è –¥–µ–ø–ª–æ—è TG Money MiniApp —É—Å–ø–µ—à–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞ –≤ Yandex Cloud. –í—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Ä–µ—Å—É—Ä—Å—ã —Å–æ–∑–¥–∞–Ω—ã, –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –≥—Ä—É–ø–ø—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏, –∏ –ø–æ–¥–≥–æ—Ç–æ–≤–ª–µ–Ω—ã —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –¥–µ–ø–ª–æ—è.

**–°–ª–µ–¥—É—é—â–∏–π —ç—Ç–∞–ø**: –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Å–µ—Ä–≤–µ—Ä—É –∏ –∑–∞–ø—É—Å–∫ –¥–µ–ø–ª–æ—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

---
*–û—Ç—á–µ—Ç —Å–æ–∑–¥–∞–Ω –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ 10.08.2025*
